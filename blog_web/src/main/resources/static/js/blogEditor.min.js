function showMarkdown(a){var b;$.get(restUrl.获取博客详细内容,{blogId:a},function(c){return $("#markDownArea").html("<textarea  id='hahahdh' style='display: none;'></textarea>"),200==c.respCode?void(b=editormd.markdownToHTML("markDownArea",{markdown:c.data.articleContent,htmlDecode:"style,script,iframe",tocm:!0,tocContainer:".right",emoji:!0,taskList:!0,tex:!0,flowChart:!0,sequenceDiagram:!0}),$("#markDownArea").attr("name",a),$("#articleHeader").text(c.data.articleHeader),$("#authorMsgArea").html("<span>Author:\u76DB\u4E16\u7E41\u82B1&nbsp;&nbsp;|&nbsp;&nbsp;&nbspPOST:"+new Date(c.data.createTime).toLocaleString()+"</span>")):void alert("\u8BF7\u6C42\u5931\u8D25:"+c.message)})}function getAllUserDetails(a){var b=new Set,c={userId:a.commentId,userHeader:a.userHead,userName:a.nickName};b.add(c);var d=a.replies;if(null==d)return b;for(i=0;i<d.length;i++){var c={userId:d[i].commentId,userHeader:d[i].userHead,userName:d[i].nickName};b.add(c)}console.log(b);var e=Array.from(b);return e}function findUserDetailsFromList(a,b){var c=null;for(i=0;i<a.length;i++)if(a[i].userId==b)return c=a[i],c;return c}function findTheUser(a,b){if(a.commentId==b)return a.commentUser;if(null==a.replies||0>=a.replies.length)return null;for(i=0;i<a.replies.length;i++)if(a.replies[i].commentUser==b)return a.replies[i].commentUser;return null}function addCommentToDom(a){var b=getAllUserDetails(a),c="",d="</div>",e="",f="",g=null==a.nickName?"\u6E38\u5BA2":a.nickName,h=a.commentContent;if(e="<div class=\"topLevelComment\" id="+a.commentId+" userName = "+g+"><div class=\"contentsTheHeaderArea\"><div class=\"commentUserHeader allCommentInstance\"><img class=\"commentUserHeaderInstance\" src=\""+a.userHead+"\" /> </div><div class=\"commentUserNameAndPostTime\"><div class=\"commentUserNameInstance\">"+g+"<a class=\"theReplyButton\">\u56DE\u590D</a> </div><div class=\"commentPostTimeInstance\">"+new Date(a.createTime).toLocaleString()+"</div></div></div><div class=\"commentContentArea\">"+h+"</div></div>",c="<div class=\"realComment\">"+e,null==a.replies||0==a.replies.length)return c+=d,c;for(var j=0;j<a.replies.length;j++){var k=a.replies[j].replyFor,l=findTheUser(a,k),m=findUserDetailsFromList(b,k),n=null==a.replies[j].nickName?"\u6E38\u5BA2":a.replies[j].nickName;f=f+"<div class=\"reply\" id="+a.replies[j].commentId+" userName = "+n+"><div class=\"contentsTheHeaderArea\"><div class=\"commentUserHeader allCommentInstance\"><img class=\"commentUserHeaderInstance\" src=\""+a.replies[j].userHead+"\" /> </div><div class=\"commentUserNameAndPostTime\"><div class=\"commentUserNameInstance\">"+n+" \u56DE\u590D\uFF1A"+m.userName+"<a class=\"theReplyButton\">\u56DE\u590D</a> </div><div class=\"commentPostTimeInstance\">"+new Date(a.replies[j].createTime).toLocaleString()+"</div></div></div><div class=\"commentContentArea\">"+a.replies[j].commentContent+"</div></div>"}return c=c+f+d,c}function showComment(a){$("#commentInstence").html("");var b="";$.get(restUrl.当前博客下的所有评论,{blogId:a},function(a){if(200!=a.respCode)return alert(a.message),null;var c=a.data;if("\u5F53\u524D\u6587\u7AE0\u6682\u65E0\u8BC4\u8BBA"==c)return null;for(var d=0;d<c.length;d++)rep=addCommentToDom(c[d]),b+=rep;$("#commentInstence").html(b)})}