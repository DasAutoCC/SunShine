var isLogin,editor;$(function(){editor=editormd("test-editor",{width:"100%",height:520,saveHTMLToTextarea:!0,path:"./editor/lib/",imageUpload:!0,emoji:!0,imageFormats:["jpg","jpeg","gif","png","bmp","webp"],imageUploadURL:"/upload-image"}),$.get("/isLogin",{},function(a){200==a.respCode?isLogin=a.data:alert("\u60A8\u672A\u8BA4\u8BC1\uFF0C\u60A8\u5C06\u65E0\u6CD5\u63D0\u4EA4\u535A\u5BA2")})});function sendMarkdownToServer(a){$.post("/blog/addArticle",a,function(a){200==a.respCode?alert("\u63D0\u4EA4\u6210\u529F"):alert("\u63D0\u4EA4\u5931\u8D25:"+a.message)})}$("#submit").click(function(){if(null==isLogin)return void alert("\u60A8\u672A\u8BA4\u8BC1\uFF0C\u65E0\u6CD5\u63D0\u4EA4!");var a={articleHeader:$("#blogHeader").val(),articleContent:editor.getMarkdown(),isPublic:$("select").val(),preview:$("#preview").val()};if(""==a.articleHeader||""==a.articleContent||""==a.preview)return void alert("\u5185\u5BB9\u4E0D\u5B8C\u6574\uFF0C\u8BF7\u586B\u5199\u5B8C\u6574");var b=confirm("\u786E\u8BA4\u63D0\u4EA4\u4E48\uFF1F");b&&sendMarkdownToServer(a)});